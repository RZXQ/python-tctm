'''
给学生讲解即时通信项目视频聊天功能时，要widget窗口中添加浏览器控件，通过加载页面进行视频聊天，讲解步骤是：
问题：已经有了摄像头和麦克风权限了，但是为什么只有自己的画面，没有对方的画面，还是没法视频聊天啊
解决：我们自己写的程序只负责文字聊天和在视频聊天前后确认修改双方的状态，不负责建立视频通信，视频通信的核心功能
是使用第三方开源程序实现的之前使用第三方网页版建立视频聊天过程：先是双方打开浏览器输入网址，打开网页，输入房间
号，点击连接就能视频聊天了
问题：这个过程中发生了什么？我们为什么输入网址就能得到网页视频聊天呢？
解决：1.打开浏览器输入网址；2.浏览器将网址请求发送给服务端；3.服务端根据网址请求找到正确的页面，将页面返回给浏
览器；4.浏览器收到页面加载显示。所以： 所以使用浏览器输入网址获得网页和点击连接进入视频聊天的过程都需要给服务端
发送请求，只不过这个服务端是第三方开源程序服务端，并且老师已经为大家部署好了
问题 ：使用浏览器网页版建立视频聊天过程给视频服务端发了什么请求
解决： 1. 双方打开浏览器输入网址，打开网页；2. 在网页中输入相同的房间名，点击连接按钮
网页中点击连接按钮就像我们自己写的发送消息的功能一样，会向服务端发请求 。而且会携带我们输入的房间名，
消息的格式是这样的： https://tcim.61it.cn/python.html?room=房间名
网址的格式包括：网址https://tcim.61it.cn/python.html  要发给服务端的参数值
按照网页请求格式规定，要用？把网址和变量连接起来，一起发给服务端
3.视频通信服务端会自动取出问号后的变量值，也就是房间名，为通信双方创建房间。
结果连接到相同房间名的两个用户就可以互相进行视频聊天了
所以：咱们现在给浏览器控件设置网址，就相当于在浏览器中手动输入网页，也是给视频通信服务端发送请求。只不过，暂时
缺少房间名服务端无法给我们建立房间
问题： 但是真实的微信也不需要用户手动输入房间名
解决：老师把页面中输入房间名的部分去掉了，改为自动填充，使用聊天发起者和接收者的名字自动组合成房间名 sender-to
问题：如何自动填充
原因：只需要在浏览器控件要加载的网页url中最后增加一部分 ?room=房间名就可以了
问题： 如何才能将sender变量和to变量加入到url字符串呢
解决： 1. 在字符串前增加一个f : format格式的意思，表示按照格式给字符串添加变量值
2. 在字符串中使用 大括号 中加变量名的形式，就可以将变量值插入到字符串的对应位置了
f"https://l345.61it.cn/python.html?room={self.sender}-{self.to}"
问题 ： 视频双发的房间名一样才能进行视频聊天，那视频双方的房间名一样么
分析： 因为服务端是将视频聊天请求原封不动的发送给接收方，所以接收方如果也是用sender-to的方式拼接房间名，两者房间
号就是一样的
问题： 为什么老师的视频聊天窗口关闭了，我在浏览器中还能看到老师的画面
讲解：因为我们是使用网页进行视频聊天的，但是网页不属于pyqt的widget窗口，有独立的运行环境。所以关闭窗口，不意味
着关闭网页。所以widget关闭后对方还能看到我们的视频画面
解决： 把网址设置为空，浏览器控件不再访问任何网页，这样视频聊天连接才彻底断开

我的这部分的核心代码：
class VideoWindow(QWidget):
    def __init__(self, sender, to):
        super().__init__()
        ...
        self.browser = QWebEngineView()
        # 1 自动增加房间名称
        self.browser.setUrl(QUrl(f"https://tcim.61it.cn/python.html?room={sender}-{to}"))
        layout.addWidget(self.browser)
    def closeEvent(self, event):
        ...
        self.chatWindow.videoFd = None
        # 1. 设置浏览器内容为空，彻底退出房间
        self.browser.setUrl(QUrl("about:blank"))

请根据以上内容帮我使用中文，根据以上知识点出5道单选题，主要考察：浏览器访问网页的过程，url网页地址加变量的格式，
f设置字符串格式向字符串中加变量的方法，为什么关闭窗口对方还能看到视频画面，如何清空浏览器内容等知识，不需要答案.

'''
